{"version":3,"sources":["config.js","context/ContextProvider.js","components/Navbar.js","components/Welcome.js","components/Input.js","components/Messages.js","components/Home.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","db","firestore","ContextProvider","createContext","ContextFun","props","useState","user","setUser","loader","setLoader","allMsg","setAllMsg","useEffect","onAuthStateChanged","console","log","collection","orderBy","onSnapshot","snp","docs","map","doc","id","data","Provider","value","register","provider","GoogleAuthProvider","signInWithPopup","then","result","signInWithRedirect","logout","signOut","sendMessage","msg","add","photo","photoURL","username","displayName","email","currentTime","FieldValue","serverTimestamp","children","Navbar","useContext","userRegister","userLogout","className","src","alt","onClick","Welcome","Input","setMsg","onSubmit","e","preventDefault","type","name","placeholder","onChange","target","required","Messages","message","Home","React","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7ab4dc87.chunk.js","sourcesContent":["import firebase from \"firebase\";\r\n\r\n  // Your web app's Firebase configuration\r\n  // For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\n  var firebaseConfig = {\r\n    apiKey: \"AIzaSyCLYkYPrXkF1uVAY19oU1aUo1OuBsrSHGI\",\r\n    authDomain: \"messenger-53a7e.firebaseapp.com\",\r\n    projectId: \"messenger-53a7e\",\r\n    storageBucket: \"messenger-53a7e.appspot.com\",\r\n    messagingSenderId: \"840593554870\",\r\n    appId: \"1:840593554870:web:fbe8db6a7df327305e1517\",\r\n    measurementId: \"G-R6NGR1JXZS\"\r\n  };\r\n  // Initialize Firebase\r\n  firebase.initializeApp(firebaseConfig);\r\n//   firebase.analytics();\r\n\r\nconst auth = firebase.auth();\r\nconst db = firebase.firestore();\r\n\r\nexport {auth,db}","import React,{createContext,useEffect, useState} from 'react';\r\nimport firebase from 'firebase';\r\nimport {auth,db} from '../config'\r\n\r\nexport const ContextProvider = createContext();\r\n\r\nconst ContextFun = (props) => {\r\n    const [user,setUser] = useState(null)\r\n    const [loader,setLoader] = useState(true)\r\n    const [allMsg,setAllMsg] = useState([]);\r\n\r\nconst register = () => {\r\n    const provider = new firebase.auth.GoogleAuthProvider();\r\n    firebase.auth().signInWithPopup(provider)\r\n    .then((result) => { \r\n        firebase.auth().signInWithRedirect(provider);\r\n     })\r\n  \r\n}\r\n\r\nconst logout = () => {\r\n  auth.signOut().then(() => {\r\n    setUser(null);\r\n  })\r\n}\r\n\r\nconst sendMessage = (msg) => {\r\n  db.collection('messages').add({\r\n    msg,\r\n    photo: user.photoURL,\r\n    username: user.displayName,\r\n    email: user.email,\r\n    currentTime: firebase.firestore.FieldValue.serverTimestamp()\r\n  })\r\n}\r\n\r\nuseEffect(() => {\r\n  auth.onAuthStateChanged((user) => {\r\n      setUser(user)\r\n      setLoader(false)\r\n    console.log(\"Usr::\",user)    \r\n  })\r\n  //fetch messages from firestore\r\n  db.collection(\"messages\").orderBy('currentTime','desc')\r\n  .onSnapshot((snp) => {\r\n    console.log(\"All msg:\",snp.docs)\r\n    setAllMsg(snp.docs.map((doc) => ({\r\n       id: doc.id  ,\r\n       ...doc.data()\r\n    }) )\r\n    );\r\n  });\r\n},[])\r\n\r\nconsole.log(\"All:\",allMsg)\r\n\r\n  return ( \r\n    <ContextProvider.Provider value={{register,user,loader,logout,sendMessage,allMsg }}>\r\n         {props.children}\r\n  </ContextProvider.Provider>\r\n  )\r\n};\r\n\r\nexport default ContextFun;","import React,{useContext} from 'react'\r\nimport {ContextProvider} from '../context/ContextProvider'\r\n\r\nconst Navbar = () => {\r\n      const { register,user,loader,logout } = useContext(ContextProvider)\r\nconst userRegister = () => {\r\n    register();\r\n};\r\nconst userLogout = () => {\r\n  logout();\r\n}\r\nconst checkUser = () => {\r\n    return !loader ? (\r\n        user ? (\r\n          <div className=\"navbar__links\">\r\n            <li>\r\n              <span className=\"navbar__img\">\r\n                <img src={user.photoURL} alt=\"user\" />\r\n              </span>\r\n            </li>\r\n            <li>\r\n              <button className=\"navbar__btn\" onClick={userLogout}>\r\n                Logout\r\n              </button>\r\n            </li>{\" \"}\r\n          </div>\r\n        ) : (\r\n          <div className=\"navbar__links\">\r\n            <li>\r\n              <button className=\"navbar__btn\" onClick={userRegister}>\r\n                Register with Google\r\n              </button>\r\n            </li>\r\n          </div>\r\n        )\r\n      ) : (\r\n        \"...\"\r\n      );\r\n  \r\n}\r\n    return (\r\n        <div className=\"navbar\">\r\n            <div className=\"navbar__container\">\r\n              <div className=\"navbar__logo\"> Messanger</div>\r\n               {checkUser()}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Navbar\r\n","import React from \"react\";\r\n\r\nconst Welcome = () => {\r\n  return (\r\n    <div className=\"welcome\">\r\n      <h1>Welcome to messager</h1>\r\n      <p>\r\n        Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore\r\n        necessitatibus quos nulla deserunt error qui quia modi suscipit!\r\n        Deleniti totam alias esse assumenda. Neque qui, quia impedit libero\r\n        veritatis quas!\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Welcome;\r\n","import React,{useState,useContext} from 'react'\r\nimport { ContextProvider } from '../context/ContextProvider';\r\n\r\nconst Input = () => {\r\n    const [msg,setMsg] = useState(\"\");\r\n    const {sendMessage} = useContext(ContextProvider)\r\n    \r\n    const sendMsg = (e ) => {\r\n      e.preventDefault();\r\n      sendMessage(msg)\r\n      setMsg(\"\")\r\n    }\r\n    return (\r\n       \r\n     <div className=\"input__form\">\r\n        <form onSubmit={sendMsg} >\r\n           <input \r\n             type=\"text\" \r\n             name=\"\" \r\n             id=\"\" \r\n             placeholder=\"Write a message...\"\r\n             className=\"input__control\"\r\n             value={msg}\r\n             onChange={(e) => setMsg(e.target.value)}\r\n             required\r\n             />\r\n        </form>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Input\r\n","import React, { useState, useContext } from \"react\";\r\nimport Input from \"./Input\";\r\nimport { ContextProvider } from \"../context/ContextProvider\";\r\nconst Messages = () => {\r\n  const { allMsg, user } = useContext(ContextProvider);\r\n\r\n  return (\r\n    <div className=\"messages\">\r\n       {allMsg.map((message) =>\r\n        message.email === user.email ? (\r\n          <div className=\"messages__my\" key={message.id}>\r\n            <div className=\"messages__my-p\">\r\n              <p>{message.msg}</p>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"messages__other\" key={message.id}>\r\n            <div className=\"messages__other-img\">\r\n              <img src={message.photo} alt={message.photo} />\r\n            </div>\r\n            <div className=\"messages__other-msg\">\r\n              <span>{message.username}</span>\r\n              <p>{message.msg}</p>\r\n            </div>\r\n          </div>\r\n        )\r\n      )}  \r\n\r\n    <Input />\r\n\r\n    </div>\r\n \r\n  );\r\n};\r\n\r\nexport default Messages;","import React from \"react\";\r\nimport Welcome from \"./Welcome\";\r\nimport Messages from \"./Messages\";\r\n\r\nimport { ContextProvider } from \"../context/ContextProvider\";\r\n\r\nconst Home = () => {\r\n  const { loader, user } = React.useContext(ContextProvider);\r\n  return (\r\n    <div>{!loader ? user ? <Messages /> : <Welcome /> : \"loading...\"}</div>\r\n  );\r\n\r\n};\r\n\r\nexport default Home;","\nimport './App.css';\nimport Navbar from './components/Navbar';\nimport Home from \"./components/Home\";\nimport ContextFun from './context/ContextProvider';\n\nfunction App() {\n  return (\n    <ContextFun>\n      <Navbar />\n      <Home />\n    </ContextFun>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}